<?xml version="1.0" encoding="utf-8" ?>
<ROOT>
<ds_devtiaozha><![CDATA[
				select * from (
				select top 5 b.devicefulldesc,count(*) as countnum,d.cloudid
				from "MONITORSIGNAL".TJUMPMSG{{0}} a
				join "PSGRAPH_DATA".TDEVICE{{0}} b on a.devicename=b.devicename
				join "PSGRAPH_DATA".TVOLTAGE{{0}} c on b.voltageidx=c.voltageidx
				left join "MONITORSIGNAL".B_DEVICE{{0}} d ON a.devicename=d.D5000NAME
				where happentime between substr(TRUNC(SYSDATE, 'YEAR'),0,4) || '-01-01 00:00:00' and substr(TRUNC(SYSDATE, 'YEAR'),0,4) || '-12-31 23:59:59' and reason_desc is not null
				and a.typeidx=21
				group by b.devicefulldesc,d.cloudid
				order by countnum desc) order by countnum]]></ds_devtiaozha>
<ds_bianyaqitiaozha><![CDATA[
				SELECT * FROM (
        SELECT TOP 5 S.CLOUDID, S.S_NAME, COUNT(*) AS COUNTNUM FROM "MONITORSIGNAL".TJUMPMSG{{0}} A
				JOIN "MONITORSIGNAL"."B_DEVICE{{0}}" D ON A.DEVICENAME = D.D5000NAME
				JOIN "MONITORSIGNAL"."B_SUBSTATION{{0}}" S ON D.STAID = S.S_ID AND S.ISMONITOR = 1
				WHERE HAPPENTIME BETWEEN SUBSTR(TRUNC(SYSDATE, 'YEAR'),0,4) || '-01-01 00:00:00' AND SUBSTR(TRUNC(SYSDATE, 'YEAR'),0,4) || '-12-31 23:59:59' AND REASON_DESC IS NOT NULL
				AND A.TYPEIDX = 1		
				GROUP BY S.CLOUDID, S.S_NAME		
				ORDER BY COUNTNUM DESC) A ORDER BY COUNTNUM
				]]></ds_bianyaqitiaozha>
<ds72><![CDATA[
          SELECT * FROM 
          (SELECT TOP 5 B.CLOUDID, B.S_NAME, SIGNALNUM/10000.0 AS SIGNALNUM FROM "MONITORSIGNAL"."QJ_JKGJXX_YCQX{{0}}" A
          JOIN "MONITORSIGNAL".B_SUBSTATION{{0}} B ON A.STATIONIDX = B.S_ID AND B.ISMONITOR = 1
          WHERE STA_DAY= TO_CHAR(SYSDATE,'YYYY-MM-DD')   AND DTTYPE='YEAR' AND QXDJ = '0'
          ORDER BY SIGNALNUM DESC) A
          ORDER BY SIGNALNUM ASC
        ]]></ds72>
<ds75><![CDATA[
          SELECT * FROM 
          (SELECT TOP 5 B.CLOUDID, B.S_NAME, SIGNALNUM/10000.0 AS SIGNALNUM FROM "MONITORSIGNAL"."QJ_JKGJXX_YCQX{{0}}" A
          JOIN "MONITORSIGNAL".B_SUBSTATION{{0}} B ON A.STATIONIDX = B.S_ID AND B.ISMONITOR = 1
          WHERE STA_DAY= TO_CHAR(SYSDATE,'YYYY-MM-DD')   AND DTTYPE='YEAR' AND QXDJ = '1'
          ORDER BY SIGNALNUM DESC) A
          ORDER BY SIGNALNUM ASC
        ]]></ds75>
<ds52><![CDATA[
          SELECT * FROM 
          (SELECT TOP 5 B.CLOUDID, B.S_NAME, SIGNALNUM/10000.0 AS SIGNALNUM FROM "MONITORSIGNAL"."QJ_JKGJXX_SBFLTJ{{0}}" A
          JOIN "MONITORSIGNAL"."B_SUBSTATION{{0}}" B ON A.STATIONIDX = B.S_ID AND B.ISMONITOR = 1
          WHERE STA_DAY = (SELECT MAX(STA_DAY) FROM "MONITORSIGNAL"."QJ_JKGJXX_SBFLTJ{{0}}") AND DTTYPE='YEAR' AND SBLX = '通讯中断'
          ORDER BY SIGNALNUM DESC) A
          ORDER BY SIGNALNUM ASC
				]]></ds52>
<ds60><![CDATA[
          SELECT * FROM 
          (SELECT TOP 5 B.CLOUDID, B.S_NAME, SIGNALNUM/10000.0 AS SIGNALNUM FROM "MONITORSIGNAL"."QJ_JKGJXX_SBFLTJ{{0}}" A
          JOIN "MONITORSIGNAL"."B_SUBSTATION{{0}}" B ON A.STATIONIDX = B.S_ID AND B.ISMONITOR = 1
          WHERE STA_DAY = (SELECT MAX(STA_DAY) FROM "MONITORSIGNAL"."QJ_JKGJXX_SBFLTJ{{0}}") AND DTTYPE='YEAR' AND SBLX = '直流电源异常'
          ORDER BY SIGNALNUM DESC) A
          ORDER BY SIGNALNUM ASC
        ]]></ds60>
<ds64><![CDATA[
          SELECT * FROM 
          (SELECT TOP 5 B.CLOUDID, B.S_NAME, SIGNALNUM/10000.0 AS SIGNALNUM FROM "MONITORSIGNAL"."QJ_JKGJXX_SBFLTJ{{0}}" A
          JOIN "MONITORSIGNAL"."B_SUBSTATION{{0}}" B ON A.STATIONIDX = B.S_ID AND B.ISMONITOR = 1
          WHERE STA_DAY = (SELECT MAX(STA_DAY) FROM "MONITORSIGNAL"."QJ_JKGJXX_SBFLTJ{{0}}") AND DTTYPE='YEAR' AND SBLX = '消防系统'
          ORDER BY SIGNALNUM DESC) A
          ORDER BY SIGNALNUM ASC
        ]]></ds64></ROOT>